
<!doctype html>
<style>
body{font-family:Inter, system-ui, Arial; max-width:900px;margin:32px auto;padding:0 16px;color:#111}
.card{border-radius:12px;padding:20px;box-shadow:0 6px 20px rgba(0,0,0,.06);background:#fff}
header{display:flex;gap:16px;align-items:center}
img{max-width:100%;height:auto;border-radius:8px}
.hint{background:#f6f9ff;padding:12px;border-radius:8px;margin-top:10px}
.step{margin-top:18px}
input[type=text]{width:100%;padding:8px;margin-top:8px}
button{padding:8px 12px;border-radius:8px;border:0;background:#2563eb;color:white;cursor:pointer}
</style>
</head>
<body>
<div class="card">
<header>
<div>
<h1>/secret</h1>
<p>Encuentra el mensaje escondido dentro de la imagen. Juego en varios pasos — cada respuesta correcta desbloquea la siguiente pista.</p>
</div>
</header>


<section class="step">
<h2>Paso 0 — Descargar la imagen</h2>
<p>Haz clic derecho y descarga la imagen <strong>secret_stego.png</strong> (está en <code>/assets/secret_stego.png</code>).</p>
<img src="/assets/secret_stego.png" alt="secret stego image" />
<div class="hint">
<strong>Pista rápida:</strong> No confíes solo en lo que ves. Prueba herramientas de esteganografía como <code>stegano</code>, <code>steghide</code>, <code>zsteg</code>, o un analizador LSB.
</div>
</section>


<section class="step">
<h2>Paso 1 — Extraer el mensaje</h2>
<p>Extrae el mensaje con la herramienta que prefieras. Ejemplos:</p>
<pre>
# usando stegano (Python)
from stegano import lsb
msg = lsb.reveal('secret_stego.png')
print(msg)


# usando steghide (si fue embed con steghide)
steghide extract -sf secret_stego.png
</pre>
<p>Cuando obtengas una cadena, pégala aquí:</p>
<input id="step1" placeholder="Pega aquí la cadena que obtuviste" />
<button onclick="checkStep1()">Verificar Paso 1</button>
<div id="reply1"></div>
</section>


<section class="step">
<h2>Paso 2 — Decodificar</h2>
<p>Si el mensaje parece estar codificado (por ejemplo en hex o base64), conviértelo. Ejemplo (hex → texto):</p>
<pre>
# en Linux
echo 6c6c656... | xxd -r -p
# o en Python
import binascii
print(binascii.unhexlify('6c6c65...').decode())
</pre>
<p>Pega la frase final en el campo de abajo (sin comillas):</p>
<input id="final" placeholder="Frase final aquí" />
<button onclick="checkFinal()">Enviar frase final</button>
<div id="reply2"></div>
</section>


<section class="step" style="margin-top:20px">
<h2>Bonus / Pista extra</h2>
<p>Si te quedas atascado, busca patrones: cadenas largas de caracteres hex (0-9a-f), o caracteres Base64 que terminan con <code>=</code>. También analiza los metadatos con <code>exiftool</code>.</p>
</section>
</div>


<script src="/js/extractor.js"></script>
</body>
</html>
